DROP DATABASE corporate_health_pro;
CREATE DATABASE corporate_health_pro;
USE corporate_health_pro;
DROP TABLE ADDRESS;
CREATE TABLE `ADDRESS` (
   `ID` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
   `NAME` VARCHAR(100) NULL,
   `PIN_CODE` INT NULL,
   `VERSION_ID` INT NULL,
   `DELETE_FL` BOOLEAN NOT NULL DEFAULT 0)ENGINE=InnoDB;
   
   
DROP TABLE COMPANY;
CREATE TABLE `COMPANY` (
   `ID` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
   `NAME` VARCHAR(100) NULL,
   `BRANCH_NAME` VARCHAR(100) NULL,
   `ABOUT_COMPANY` VARCHAR(100) NULL,
   `REPRESENTATIVE_NAME` VARCHAR(100) NULL,
   `COMPANY_LOGO_PATH` VARCHAR(100) NULL,
   `HR_LOGO_PATH` VARCHAR(100) NULL,
   `HR_SIGNATURE_PATH` VARCHAR(100) NULL,
   `ADDRESS_ID` INT NULL,
   `VERSION_ID` INT NULL,
   `DELETE_FL` BOOLEAN NOT NULL DEFAULT 0,
   FOREIGN KEY ADDRESS_FK(ADDRESS_ID)
   REFERENCES ADDRESS(ID)
   ON UPDATE CASCADE
   ON DELETE RESTRICT)ENGINE=InnoDB;
   
       
DROP TABLE ROLE;
CREATE TABLE `ROLE` (
   `ID` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
   `NAME` VARCHAR(100) NULL,
   `VERSION_ID` INT NULL,
     `DELETE_FL` BOOLEAN NOT NULL DEFAULT 0)ENGINE=InnoDB;
    
DROP TABLE PERMISSION;
CREATE TABLE `PERMISSION` (
   `ID` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
   `NAME` VARCHAR(100) NULL,
   `DESCRIPTION` VARCHAR(100) NULL,
   `VERSION_ID` INT NULL,
   `DELETE_FL` BOOLEAN NOT NULL DEFAULT 0)ENGINE=InnoDB;
   
   

DROP TABLE ROLE_PERMISSION;
CREATE TABLE `ROLE_PERMISSION` (
   `ID` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
   `ROLE_ID` INT NULL,
   `PERMISSION_ID` INT NULL,
   `VERSION_ID` INT NULL,
   `DELETE_FL` BOOLEAN NOT NULL DEFAULT 0,
    FOREIGN KEY ROLE_FK(ROLE_ID)
    REFERENCES ROLE(ID)
    ON UPDATE CASCADE
    ON DELETE RESTRICT,
    FOREIGN KEY PERMISSION_FK(PERMISSION_ID)
    REFERENCES PERMISSION(ID)
    ON UPDATE CASCADE
    ON DELETE RESTRICT)ENGINE=InnoDB;
    
    DROP TABLE USER_ADDITIONAL_INFO;
CREATE TABLE `USER_ADDITIONAL_INFO` (
   `ID` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
   `EMAIL_ID` VARCHAR(100) NULL,
   `MOBILE_NO` VARCHAR(100) NULL,
   `DESIGNATION` VARCHAR(100) NULL,
   `BLOOD_GROUP` VARCHAR(100) NULL,
   `COMPANY_ID` INT NULL,
   `ADDRESS_ID` INT NULL,
   `VERSION_ID` INT NULL,
   `DELETE_FL` BOOLEAN NOT NULL DEFAULT 0,
    FOREIGN KEY ADDRESS_FK(ADDRESS_ID)
    REFERENCES ADDRESS(ID)
    ON UPDATE CASCADE
    ON DELETE RESTRICT,
    FOREIGN KEY COMPANY_FK(COMPANY_ID)
    REFERENCES COMPANY(ID)
    ON UPDATE CASCADE
    ON DELETE RESTRICT)ENGINE=InnoDB;

DROP TABLE  USER;
CREATE TABLE `USER` (
   `ID` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
   `F_NAME` VARCHAR(100) NULL,
   `L_NAME` VARCHAR(100) NULL,
   `PASSWORD` VARCHAR(100) NULL,
   `API_KEY` VARCHAR(100) NULL,
   `USER_TYPE` VARCHAR(100) NULL,
   `DOB` DATETIME NULL,
   `GENDER` VARCHAR(100) NULL,
   `ADDITIONAL_INFO_ID` INT NULL,
   `ROLE_ID` INT NULL,
   `LOGO_PATH` VARCHAR(100) NULL,
   `SIGNATURE_PATH` VARCHAR(100) NULL,
   `CREATED` DATETIME NULL,
   `VERSION_ID` INT NULL,
   `DELETE_FL` BOOLEAN NOT NULL DEFAULT 0,
   FOREIGN KEY ADDITIONAL_INFO_FK(ADDITIONAL_INFO_ID)
   REFERENCES USER_ADDITIONAL_INFO(ID)
   ON UPDATE CASCADE
   ON DELETE RESTRICT,
   FOREIGN KEY ROLE_FK(ROLE_ID)
   REFERENCES ROLE(ID)
   ON UPDATE CASCADE
   ON DELETE RESTRICT)ENGINE=InnoDB;




    
    

   
DROP TABLE ASSESSMENT;
CREATE TABLE `ASSESSMENT` (
   `ID` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
   `ASSESMENT_TYPE` VARCHAR(100) NULL,
   `VERSION_ID` INT NULL,
   `DELETE_FL` BOOLEAN NOT NULL DEFAULT 0)ENGINE=InnoDB;
   
DROP TABLE ASSESSMENT_QUESTION;
CREATE TABLE `ASSESSMENT_QUESTION` (
   `ID` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
   `QUESTION` VARCHAR(100) NULL,
   `QUESTION_TYPE` VARCHAR(100) NULL,
   `ASSESSMENT_ID` INT NULL,
   `VERSION_ID` INT NULL,
   `DELETE_FL` BOOLEAN NOT NULL DEFAULT 0,
   FOREIGN KEY ASSESSMENT_FK(ASSESSMENT_ID)
   REFERENCES ASSESSMENT(ID)
   ON UPDATE CASCADE
   ON DELETE RESTRICT)ENGINE=InnoDB;
   
DROP TABLE ASSESSMENT_QUESTION_CHOICE;
CREATE TABLE `ASSESSMENT_QUESTION_CHOICE` (
   `ID` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
   `CHOICE_VALUE` VARCHAR(100) NULL,
   `CHOICE_TYPE` VARCHAR(100) NULL,
   `ASSESSMENT_QUESTION_ID` INT NULL,
   `VERSION_ID` INT NULL,
   `DELETE_FL` BOOLEAN NOT NULL DEFAULT 0,
   FOREIGN KEY ASSESSMENT_QUESTION_FK(ASSESSMENT_QUESTION_ID)
   REFERENCES ASSESSMENT_QUESTION(ID)
   ON UPDATE CASCADE
   ON DELETE RESTRICT)ENGINE=InnoDB;
   
   
DROP TABLE  MEDICAL_CAMP;
CREATE TABLE `MEDICAL_CAMP` (
   `ID` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
   `NAME` VARCHAR(100) NULL,
   `START_DATE` DATETIME NULL,
   `END_DATE` DATETIME NULL,
   `COMPANY_ID` int NULL,
   `VERSION_ID` int NULL,
   `DELETE_FL` BOOLEAN NOT NULL DEFAULT 0,
   FOREIGN KEY COMPANY_FK(COMPANY_ID)
   REFERENCES COMPANY(ID)
   ON UPDATE CASCADE
   ON DELETE RESTRICT)ENGINE=InnoDB;
   
DROP TABLE  MEDICAL_CAMP_DETAIL;
CREATE TABLE `MEDICAL_CAMP_DETAIL` (
   `ID` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
   `STATUS` VARCHAR(100) NULL,
   `COMMENTS_BY_DOCTOR` VARCHAR(100) NULL,
   `MEDICAL_CAMP_ID` int NULL,
   `USER_ID` int NULL,
   `DOCTOR_ID` int NULL,
   `ASSESSMENT_ID` int NULL,
   `VERSION_ID` int NULL,
   `DELETE_FL` BOOLEAN NOT NULL DEFAULT 0,
   FOREIGN KEY MEDICAL_CAMP_FK(MEDICAL_CAMP_ID)
   REFERENCES MEDICAL_CAMP(ID)
   ON UPDATE CASCADE
   ON DELETE RESTRICT,
    FOREIGN KEY USER_FK(USER_ID)
   REFERENCES USER(ID)
   ON UPDATE CASCADE
   ON DELETE RESTRICT,
    FOREIGN KEY USER_AS_DOCTOR_FK(DOCTOR_ID)
   REFERENCES USER(ID)
   ON UPDATE CASCADE
   ON DELETE RESTRICT,
    FOREIGN KEY ASSESSMENT_FK(ASSESSMENT_ID)
   REFERENCES  ASSESSMENT(ID)
   ON UPDATE CASCADE
   ON DELETE RESTRICT)ENGINE=InnoDB;
   
   
      
DROP TABLE  MEDICAL_CAMP_DETAIL_Q_A;
CREATE TABLE `MEDICAL_CAMP_DETAIL_Q_A` (
   `ID` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    `ANSWER` VARCHAR(100) NULL,
   `CAMP_DETAIL_ID` int NULL,
   `QUESTION_ID` int NULL,
   `CHOICE_ID` int NULL,
   `VERSION_ID` int NULL,
   `DELETE_FL` BOOLEAN NOT NULL DEFAULT 0,
   FOREIGN KEY ASSESSMENT_QUESTION_FK(QUESTION_ID)
   REFERENCES ASSESSMENT_QUESTION(ID)
   ON UPDATE CASCADE
   ON DELETE RESTRICT,
    FOREIGN KEY CHOICE_FK(CHOICE_ID)
   REFERENCES ASSESSMENT_QUESTION_CHOICE(ID)
   ON UPDATE CASCADE
   ON DELETE RESTRICT,
    FOREIGN KEY MEDICAL_CAMP_DETAIL_FK(CAMP_DETAIL_ID)
   REFERENCES MEDICAL_CAMP_DETAIL(ID)
   ON UPDATE CASCADE
   ON DELETE RESTRICT)ENGINE=InnoDB;
   

 